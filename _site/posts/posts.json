[
  {
    "path": "posts/2021-05-29-dataviz-makeover-1/",
    "title": "DataViz Makeover 1",
    "description": "Explore different perspectives and approaches to design more truthful and enlightening data visualisation",
    "author": [
      {
        "name": "Connie Xia",
        "url": "https://example.com/conniexia"
      }
    ],
    "date": "2021-05-29",
    "categories": [],
    "contents": "\r\n1. Critique of Original Data Visualisation\r\n\r\nThe original data visualisation above is created from the data extracted from the Department of Statistics, Singapore (DOS), showing the Merchandise Trade of the Top Six Trading Countries, 2019-2020. The original visualisation is then evaluated for its clarity and aesthetics as follows.\r\n1.1. Clarity\r\nS/N\r\nCritiques\r\nSuggestions\r\n1\r\nData visualisation is inconsistent with the title – The title says “Merchandise Trade of Top Six Trading Countries, 2019-2020” but for Japan, only the 2020 trade is reflected.\r\nEnsure that the data visualisation for all six countries reflect trade from between 2019 to 2020.\r\n2\r\nUnclear y-axis labels - The y-axes are labelled as “Export” and “Import” respectively but they do not tell us if the numbers are reflecting trade volume or trade value.\r\nChange the y-axes labels to include units: Export (in $000’s) and Import (in $000’s).\r\n3\r\nAxis labels are not consistent - Hong Kong’s import y-axis label is reflected in thousands whereas the rest of the y-axes labels are in millions.\r\nStandardise all the y-axes labels to millions.\r\n4\r\nNo source is provided - Without the source, we cannnot tell where the data is taken from.\r\nInclude a caption of the source at the bottom of the visualisation.\r\n1.2. Aesthetics\r\nS/N\r\nCritiques\r\nSuggestions\r\n1\r\nAxis markers are too light to be seen.\r\nDarken the axis markers slightly so that they can be seen yet aren’t too dark and distracting.\r\n2\r\nArea chart may not be the most appropriate chart to use - The import area chart overlays the export area chart totally, making it difficult to see the export area chart.\r\nChange the chart type to a line graph instead to better visualise the time series data.\r\n3\r\nTop bottom alignment of the charts makes it difficult to compare the trade value across countries.\r\nSuggest to have one chart showing the consolidated line graphs of each country’s exports and another chart showing the consolidated line graphs of each country’s imports for a better comparison across countries.\r\n4\r\nLocation of the legend - There are white spaces below the legend.\r\nShift the location of the legend to the bottom of the visualisation.\r\n2. Proposed Design\r\nBased on the critics raised above, an alternative graphical presentation has been sketched out to improve the current design.\r\n\r\n2.1. Advantages of the Proposed Design\r\nThe advantages of the proposed design are as follows:\r\nClarity\r\nS/N\r\nDesign\r\nAdvantages\r\n1\r\nClear title and subtitle\r\nTitle reflected the Merchandise Trade by Country from 2019 to 2020. The subtitle will have a short description defining “merchandise trade” for clearer understanding.\r\n2\r\nAxes are properly labeled\r\nThe y-axis is properly labeled with standardised tick marks to reflect trade value and the x-axis is labeled to depict time by months.\r\n3\r\nCommentary on observations are inserted above the charts\r\nA short paragraph describing the general observations noted from the charts can help to summarise what the charts are showing.\r\n4\r\nA bar graph showing trade balance is created in addition to the export and import line graphs\r\nA bar chart showing negative or positive trade value can better showcase the financial health of each country.\r\n4\r\nSource is added to the bottom right of the visualisation\r\nInclusion of the source will allow readers to easily know where the data is extracted from.\r\nAesthestics\r\nS/N\r\nDesign\r\nAdvantages\r\n1\r\nVisible major axis markers are used.\r\nMajor axis markers are added and positioned properly to add a more refined look to the charts.\r\n2\r\nColour is carefully utilised\r\nFor the line graphs showing different trade values for different countries, a colour is assigned to each country for better visualisation.\r\n3\r\nAnnotations are added on the graph\r\nAnnotations help to pick out note-worthy trends observed at different time frames that would be useful for further analysis.\r\n4\r\nLegend is placed at the bottom left of the visualisation\r\nA legend is added to reflect which coloured line correspond to which country as it will be too cluttered to include the country names on the line graph itself.\r\n3. Proposed Visualisation\r\nThe alternative static visualisation is created using Tableau Desktop and is uploaded onto Tableau Public here.\r\n4. Step-by-step Guide\r\n4.1. Data Used\r\nTwo data sources are used which are available under the sub-section of Merchandise Trade by Region/Market on the DOS website.The two datasets are then all downloaded in Excel.\r\n4.2. Data Preparation\r\nAfter opening the file in Excel, we can see that there are three sheets: Content, T1 and T2. The Content sheet is basically a content page for the datasets found in the Excel file. T1 shows all Merchandise Imports By Region/Market, Monthly and T2 shows all Merchandise Exports By Region/Market, Monthly. These two sheets are then renamed as Imports and Exports respectively for clearer identification. The Content sheet can now be deleted.\r\nUnder the Imports sheet, data cleaning is conducted to only retain information pertinent to the six countries and time period depicted in the original visualisation.\r\nRemove all unnecessary and empty rows. Delete Rows 1 to 5, 127 to 140.\r\n\r\nDelete rows that do not belong to Hong Kong, Mainland China, Japan, Malaysia, Taiwan and the United States.\r\n\r\nDelete columns that do not fall within the range of 2019 Jan to 2020 Dec. Only retain Columns SX to TU.\r\n\r\nRename Cell A1 from “Variables” to “Country”.\r\nRename Cells A2 to A7 to “Malaysia”, “Japan”, “Hong Kong”, “Taiwan”, “Mainland China” and “United States” respectively.\r\nRepeat Steps 1 to 5 for the Exports sheet as well.\r\nSave the Excel file as Merchandise Trade by Country.\r\nImport the Excel file into Tableau Desktop for further data cleaning.\r\nDrag and drop the Export sheet into the data pane.\r\n\r\nNotice that the data type for the Export values are all in String form. Change that to Numerical data type.\r\n\r\nThe Export values from 2019 Jan to 2020 Dec are illustrated in many columns, but we would like the time series data to be spread across rows instead. Hence, select the columns from 2019 Jan to 2020 Dec, right click and pivot.\r\n\r\nRename the new headers of the pivoted table to “Month” and “Export (in $000’s)” respectively.\r\n\r\nChange the data type of the Month column from String to Date.\r\n\r\nOnce done, export the data as csv and rename it as Exports_Pivoted.\r\n\r\nRepeat steps 9 to 14 for the Imports sheet and name the new csv file as Imports_Pivoted.\r\nOpen the two csv files in Excel and join them by Country and Month so that the Export and Import values are in the same csv file.\r\n\r\nCreate a new column Net Exports (in $000’s) in Column E and calculate the Net Exports by subtracting the Import value from the Export value.\r\n\r\nSave and rename the csv file as Trade_Pivoted.\r\nImport the Trade_Pivoted csv file back into Tableau for data visualisation.\r\n4.3. Data Visualisation\r\nInspect the imported data to ensure that all the data types are correct. Month should be in Date format and the Exports (in $000’s), Imports (in $000’s) and Net Exports (in $000’s) are in Numerical format.\r\nClick into a new Sheet and rename “Sheet 1” to “Exports”.\r\nCreate a line chart by dragging Month and Exports (in $000’s) into Columns and Rows respectively.\r\n\r\nChange the discrete Year(Month) in the column to show continuous Month(Month) instead.\r\n\r\nDrag and drop Country into the Color tab.\r\n\r\nRename the Title to Exports by Country.\r\n\r\nReduce the line thickness of the line chart under the Size tab.\r\n\r\nEdit the y-axis by right clicking on the y-axis and selecting Edit Axis. Under the General tab, set a fixed range from 0 to 8,500,000. Under the Tick Marks tab, set fixed major tick marks with the Tick interval = 1,000,000.\r\n\r\nEdit the x-axis by right clicking on the x-axis and selecting Edit Axis. Under the General tab, set a fixed range from 1/1/2019 to 1/12/2020 and uncheck the Show times box. Rename the Axis Title to Month. Under the Tick Marks tab, set fixed major tick marks with Tick origin starting on 1/3/2019, with Interval = 3 and Unit set to Months.\r\n\r\nFormat the y-axis by right clicking on the y-axis and selecting Format. Under Scale, select the Ticks dropdown box and choose a darker shade of grey so that the major tick marks are visible on the graph. Repeat the step to format the x-axis as well.\r\n\r\nAdd Axis Rulers to both the y-axis and x-axis under the Format Lines section, Rows and Columns tabs, respectively.\r\n\r\nThe final Exports chart would look like this:\r\n\r\nDuplicate the Exports Sheet and rename the sheet to Imports.\r\nRemove Exports (in $000’s) from the Rows and replace with Imports (in $000’s).\r\n\r\nRename the Title to Imports by Country.\r\nEdit the y-axis by right clicking on the y-axis and selecting Edit Axis. Under the General tab, set a fixed range from 0 to 7,000,000. Under the Tick Marks tab, set fixed major tick marks with the Tick interval = 1,000,000.\r\n\r\nThe final Imports chart would look like this:\r\n\r\nCreate a new Sheet and rename it as Trade Balance.\r\nDrag Month into Columns and make sure to show the discrete Year and Month. Drag Country and Net Exports (in $000’s) into Rows.\r\n\r\nChange the chart type from Line to Bar under the Marks section.\r\n\r\nChange the display setting at the top of the page from Standard to Entire View to ensure that the bar chart is fitted nicely on the page.\r\n\r\nDrag and drop the Net Exports (in $000’s) into the Color tab.\r\n\r\nEdit the colour scheme to only show 2 colours: Blue for positive values and Red for negative values by indicating 2 steps under Stepped Color. Under Advanced settings, set the Center to 0.\r\n\r\nIncrease the size of the bars under the Size tab to decrease the gaps between each bars.\r\n\r\nEdit the y-axis by right clicking the y-axis and select Edit Axis. Choose Independent axis ranges for each row or column under the General tab.\r\nRight click on the y-axis and select Format. Under Scale, select the Ticks dropdown box and choose a darker shade of grey so that the major tick marks are visible on the graph.\r\n\r\nFormat the x-axis by right clicking the x-axis and select Format. Under Date, choose Abbreviation to shorten the length of the months.\r\n\r\nThe final Trade Balance chart would look like this:\r\n\r\nA new dashboard is created to combine the three charts together, A title “Merchandise Trade by Country, 2019-2020” is added at the top. Descriptions of observations are added in text above the charts, with annotations added on the charts as well, and the legend for the Exports and Imports charts is added at the left bottom of the dashboard. A text box with the Source is added to the right bottom of the dashboard. The finalised dashboard would look like this:\r\n\r\n5. Major Observations Derived\r\nThe three major observations derived from new data visualisation are as follows:\r\nOverall, China has the highest merchandise export and import values. Yet over the period of December 2019 to January 2020, there is a strong decrease in both exports and imports value, from approximately $7M to $4M and $6.4M to $4M, respectively before showing some recovery in March 2020.\r\nAll six countries experienced in a fall in import value from January 2019 to Februrary 2019 in varying degrees. Similar for export value, only China saw a rise in export value over the same time frame.\r\nOver the two-year period, Hong Kong is constantly having stable trade surplus whereas Taiwan is constantly in stable trade deficit. Malaysia starts to be in constant trade deficit in 2020 and US is seeing positive trade balance from the 2nd quarter of 2020, after being in trade deficit for 5 quarters straight.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-05-30T18:18:39+08:00",
    "input_file": "dataviz-makeover-1.utf8.md"
  },
  {
    "path": "posts/2021-05-22-my-1st-post/",
    "title": "My 1st Post",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Connie Xia",
        "url": "https://example.com/conniexia"
      }
    ],
    "date": "2021-05-22",
    "categories": [],
    "contents": "\r\nOverview\r\nIn this article, we will show you how to plot a figure with multiple histograms by using ggplot2 and ggpubr packages.\r\nInstalling and Launching R Packages\r\nBefore you get started, you are required:\r\nto start a new R project, and\r\n  + to create a new R Markdown document.\r\nTo insert a graph.\r\n\r\nNext, you will use the code chunk below to install and launch ggpubr and tidyverse in RStudio.\r\nR code\r\npackages = c(‘ggpubr’, ‘tidyverse’)\r\nfor(p in packages){library if(!require(p, character.only = T)){ install.packages(p) } library(p, character.only = T) }\r\nImporting and Preparing The Data Set\r\nIn this hands-on exercise, the Wine Quality Data Set of UCI Machine Learning Repository will be used. The data set consists of 13 variables and 6497 observations. For the purpose of this exercise, we have combined the red wine and white wine data into one data file. It is called wine_quality and is in csv file format.\r\nImporting Data\r\nFirst, let us import the data into R by using read_csv() of readr package.\r\nR code\r\nwine <- read_csv(“data/wine_quality.csv”)\r\nNotice that beside quality and type, the rest of the variables are numerical and continuous data type.\r\n4.0 Univariate EDA with Histogram\r\nIn the figure below, multiple histograms are plottted by using ggplot() and geom_histogram() of ggplot2 package. Then, ggarrange() of ggpubr package is used to patch these histogram into a single figure to reveal the distribution of the selected variables in the wine quality data sets.\r\nRcode\r\nfa <- ggplot(data=wine, aes(x= fixed acidity)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) va <- ggplot(data=wine, aes(x= volatile acidity)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) ca <- ggplot(data=wine, aes(x= citric acid)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) rs <- ggplot(data=wine, aes(x= residual sugar)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) ch <- ggplot(data=wine, aes(x= chlorides)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) fSO2 <- ggplot(data=wine, aes(x= free sulfur dioxide)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) tSO2 <- ggplot(data=wine, aes(x= total sulfur dioxide)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) density <- ggplot(data=wine, aes(x= density)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) pH <- ggplot(data=wine, aes(x= pH)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) sulphates <- ggplot(data=wine, aes(x= sulphates)) + geom_histogram(bins=20, color=“black”, fill=“light blue”) alcohol <- ggplot(data=wine, aes(x= alcohol)) + geom_histogram(bins=20, color=“black”, fill=“light blue”)\r\nggarrange(fa, va, ca, rs, ch, fSO2, tSO2, density, pH, sulphates, alcohol, ncol = 4, nrow = 3)\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-05-29T22:54:23+08:00",
    "input_file": "my-1st-post.utf8.md"
  }
]
